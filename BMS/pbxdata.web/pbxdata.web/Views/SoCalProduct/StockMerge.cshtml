
<script type="text/javascript" src="~/js/textValidate.js"></script>
<link href="~/Css/divShow.css" rel="stylesheet" />
<link href="~/js/kindeditor-4.1.7/themes/default/default.css" rel="stylesheet" />
<link href="~/js/kindeditor-4.1.7/plugins/code/prettify.css" rel="stylesheet" />
<link href="~/js/Content/uploadify.css" rel="stylesheet" />
<script charset="utf-8" src="~/js/kindeditor-4.1.7/kindeditor.js"></script>
<script charset="utf-8" src="~/js/kindeditor-4.1.7/lang/zh_CN.js"></script>
<script charset="utf-8" src="~/js/kindeditor-4.1.7/plugins/code/prettify.js"></script>
<script src="~/js/swfobject.js" type="text/javascript"></script>
<script src="~/js/jquery.uploadify.v2.1.4.js" type="text/javascript"></script>


<script src="~/js/jquery-1.8.2.min.js"></script>
<script src="~/js/pageIndex.js"></script>
<link href="~/Css/divShow.css" rel="stylesheet" />
<link href="~/Css/All.css" rel="stylesheet" />
<link href="~/Css/Search.css" rel="stylesheet" />
<script type="text/javascript" src="~/js/My97DatePicker/WdatePicker.js"></script>
<script type="text/ecmascript">
    ///查询   --货号
    function Search()
    {
        $.ajax(
            {
                type: "post",
                datatype: "text",
                url: "/SoCalProduct/ProductStockMergeScodePage",
                data:
                    {
                        "Style": $("#Style").val() == null ? "" : $("#Style").val(),
                        "Scode": $("#Scode").val() == null ? "" : $("#Scode").val(),
                        "Cat": $("#Brand").val() == null ? "" : $("#Brand").val(),
                        "Cat2": $("#Type").val() == null ? "" : $("#Type").val(),
                        "minPrice": $("#PriceMin").val() == null ? "" : $("#PriceMin").val(),
                        "maxPrice": $("#PriceMax").val() == null ? "" : $("#PriceMax").val(),
                        "minBalance": $("#StcokMin").val() == null ? "" : $("#StcokMin").val(),
                        "maxBalance": $("#StcokMax").val() == null ? "" : $("#StcokMax").val(),
                    },
                success: function (data)
                {
                    var da = data.split("❤");
                    $("#tableStcok").html(da[0]);
                    $("#PageCount").html(da[1]);
                    $("#Record").html(da[2]);
                    $("#thisPge").html(da[3]);
                    $("#PageSum").val(da[3]);
                }
            })
    }
    ///分页   --货号
    function PageIndexChange(Index)
    {
        var page = $("#PageSum").val() == null ? "" : $("#PageSum").val();
        $.ajax(
            {
                type: "post",
                datatype: "text",
                url: "/SoCalProduct/ProductStockMergeScodePage",
                data:
                    {
                        "Style": $("#StyleBig").val() == null ? "" : $("#StyleBig").val(),
                        "Scode": $("#ScodeBig").val() == null ? "" : $("#ScodeBig").val(),
                        "Cat": $("#BrandBig").val() == null ? "" : $("#BrandBig").val(),
                        "Cat2": $("#TypeBig").val() == null ? "" : $("#TypeBig").val(),
                        "minPrice": $("#PriceMinBig").val() == null ? "" : $("#PriceMinBig").val(),
                        "maxPrice": $("#PriceMaxBig").val() == null ? "" : $("#PriceMaxBig").val(),
                        "minBalance": $("#StcokMinBig").val() == null ? "" : $("#StcokMinBig").val(),
                        "maxBalance": $("#StcokMaxBig").val() == null ? "" : $("#StcokMaxBig").val(),
                        "isPage": "true",
                        "Index": Index,
                        "page": $("#PageByScode").val() == null ? "" : $("#PageByScode").val(),
                        "PageReturn": page
                    },
                success: function (data) {
                    var da = data.split("❤");
                    $("#tableStcok").html();
                    $("#PageCount").html();
                    $("#Record").html();
                    $("#thisPge").html();
                    $("#PageSum").val();
                    $("#tableStcok").html(da[0]);
                    $("#PageCount").html(da[1]);
                    $("#Record").html(da[2]);
                    $("#thisPge").html(da[3]);
                    $("#PageSum").val(da[3]);
                }
            })
    }
    ///页码改变  --货号
    function ChangeByScode()
    {
        PageIndexChange(2);
    }
    ///查询   --款号
    function StcokSearch()
    {
        $.ajax(
            {
                type: "post",
                datatype: "text",
                url: "/SoCalProduct/ProductStockMergeStylePage",
                data:
                    {
                        "Style": $("#StyleBig").val() == null ? "" : $("#StyleBig").val(),
                        "Cat": $("#Brand").val() == null ? "" : $("#Brand").val(),
                        "Cat2": $("#BrandBig").val() == null ? "" : $("#BrandBig").val(),
                        "minPrice": $("#PriceMinBig").val() == null ? "" : $("#PriceMinBig").val(),
                        "maxPrice": $("#PriceMaxBig").val() == null ? "" : $("#PriceMaxBig").val(),
                        "minBalance": $("#StcokMinBig").val() == null ? "" : $("#StcokMinBig").val(),
                        "maxBalance": $("#StcokMaxBig").val() == null ? "" : $("#StcokMaxBig").val(),
                    },
                success: function (data) {
                    var da = data.split("❤");
                    $("#StcokTop").html(da[0]);
                    $("#PageCountStcok").html(da[1]);
                    $("#RecordStcok").html(da[2]);
                    $("#thisPgeStcok").html(da[3]);
                    $("#PageSumStcok").val(da[3]);
                }
            })
    }
    ///分页   --款号
    function PageIndexChageByStyle(Index)
    {
        var page = $("#PageSumStcok").val() == null ? "" : $("#PageSumStcok").val();
        $.ajax(
            {
                type: "post",
                datatype: "text",
                url: "/SoCalProduct/ProductStockMergeStylePage",
                data:
                    {
                        "Style": $("#StyleBig").val() == null ? "" : $("#StyleBig").val(),
                        "Cat": $("#Brand").val() == null ? "" : $("#Brand").val(),
                        "Cat2": $("#BrandBig").val() == null ? "" : $("#BrandBig").val(),
                        "minPrice": $("#PriceMinBig").val() == null ? "" : $("#PriceMinBig").val(),
                        "maxPrice": $("#PriceMaxBig").val() == null ? "" : $("#PriceMaxBig").val(),
                        "minBalance": $("#StcokMinBig").val() == null ? "" : $("#StcokMinBig").val(),
                        "maxBalance": $("#StcokMaxBig").val() == null ? "" : $("#StcokMaxBig").val(),
                        "isPage": "true",
                        "Index": Index,
                        "page": $("#PageByStyle").val() == null ? "" : $("#PageByStyle").val(),
                        "PageReturn": page
                    },
                success: function (data) {
                    var da = data.split("❤");
                    $("#StcokTop").html();
                    $("#PageCountStcok").html();
                    $("#RecordStcok").html();
                    $("#thisPgeStcok").html();
                    $("#PageSumStcok").val();
                    $("#StcokTop").html(da[0]);
                    $("#PageCountStcok").html(da[1]);
                    $("#RecordStcok").html(da[2]);
                    $("#thisPgeStcok").html(da[3]);
                    $("#PageSumStcok").val(da[3]);
                }
            })
    }
    ///页码改变  --款号
    function ChangeByStyle()
    {
        PageIndexChageByStyle(2);
    }
    ///查看商品信息
    function LookProduct(Style)
    {
        $("#Style").val(Style);
        Search();
    }
    function LookAttr(Scode)
    {
        $.ajax(
                    {
                        type: "POST",
                        datatype: "text",
                        url: "/SoCalProduct/GetdistinctProductStockByScod",
                        data: {
                            "scode": Scode,
                        },
                        success: function (data) {
                            var da = data.split('❤');
                            $("#EditContent").empty;
                            $("#divProductInfo").empty;
                            $("#CaoZuo").empty;
                            $.get("/ShopManager/ShowMainPic", { scode: Scode }, function (data) {
                                var da = data.split('-*-');
                                $("#divShowMianPic").html("");
                                for (var i = 0; i < da.length - 1; i++) {
                                    $("#divShowMianPic").append("<img style='width:75px;height:75px;' src='" + da[i] + "'/>")
                                }
                                MaxPic();
                                ShowMainPic(Scode);

                            })//主图
                            $("#EditContent").html(da[0]);
                            $("#divProductInfo").html(da[1]);
                            $("#CaoZuo").html(da[3]);
                            $("#PopContent").show();

                        }
                    })
    }
    //关闭查看属性
    function Close() {
        $(".myPopdiv").hide();
    }


</script>
<style type="text/css">
    #PopStyledescript {
        left: 20%;
        top: 20%;
        width: 1000px;
        min-height: 500px;
    }

    #divMainPicContent, #divMainPicContentStyle, .divStyleContainer {
        margin: auto;
        width: 90%;
        min-height: 100px;
        border: 1px solid gray;
        padding: 10px;
        margin-top: 10px;
        text-align: center;
    }

        #divMainPicContent img, #divMainPicContentStyle img, .divStyleContainer img {
            width: 75px;
            height: 75px;
        }

    #PopContent #tabProperty {
        width: 720px;
    }

        #PopContent #tabProperty td {
            border: none;
            width: 33%;
            text-align: right;
        }

    #PopContent {
        left: 0%;
        top: 0%;
        width: 745px;
        height: 805px;
    }

    #divUploadMainPicStyle img, #divShowMianPic img {
        margin-left: 10px;
    }

    #divUploadMainPic, #divShowMianPic, #divUploadMainPicStyle, #divShowMianPicStyle {
        float: left;
    }

    #EditContainer {
        margin-top: 5px;
        border: 1px solid lightblue;
        height: 765px;
        width: 100%;
        background-color: white;
        padding-top: 15px;
        overflow: auto;
        float: left;
    }

    #divProductInfo {
        float: right;
        margin-top: 5px;
        margin-right: 5px;
        border: 1px solid lightblue;
        height: 765px;
        width: 38%;
        background-color: white;
        padding-top: 15px;
        overflow: auto;
    }
        .Loading
    {
        position: absolute;
        top: 0px;
        left: 0px;
        width: 105%;
        line-height: 500px;
        background-color: white;
        text-align: center;
        font-size: 50px;
        display: none;
        z-index: 999;
    }
         #divImageFile, #divImageFileStyle
    {
        margin: auto;
        width: 90%;
        min-height: 200px;
        border: 1px solid gray;
        padding: 10px;
        text-align: center;
        overflow: auto;
    }
           .divclose
    {
        position: absolute;
        right: 8px;
        top: 3px;
        cursor: pointer;
        font-size: 2em;
        font-weight: bolder;
        width: 30px;
        height: 30px;
    }
        .divclose:hover
        {
            color:red;
        }
            #div_img1, #div_imgStyle
    {
        float: left;
        padding-bottom: 10px;
        min-width: 100%;
    }

        #div_img1 img, #div_imgStyle img
        {
            margin-left: 10px;
            margin-top: 10px;
            float: left;
            box-sizing: border-box;
            width: 75px;
            height: 75px;
        }

    #divMainPicContent, #divMainPicContentStyle, .divStyleContainer
    {
        margin: auto;
        width: 90%;
        min-height: 100px;
        border: 1px solid gray;
        padding: 10px;
        margin-top: 10px;
        text-align: center;
        overflow: auto;
    }

        #divMainPicContent img,#divShowMianPicStyle img
        {
            width: 75px;
            height: 75px;
        }

        #divUploadMainPicStyle img, .divStyleContainer img
        {
            width: 75px;
            height: 75px;
            margin-left: 10px;
        }
    
    #divUploadMainPic, #divShowMianPic, #divUploadMainPicStyle, #divShowMianPicStyle
    {
        float: left;
    }
    .divMainMaxPic
    {
        position: absolute;
    }
</style>
<div style="border: 1px  solid gray; height: auto;">

    <span class="spanProperty">
        <span class="spanPropertyName">款号：</span>
        <input type='text' id='StyleBig' class="spanPropertyValue">
    </span>
    <span class="spanProperty">
        <span class="spanPropertyName">最小价格：</span>
        <input type='text' id='PriceMinBig' class="spanPropertyValue">-
    </span>
    <span class="spanProperty">
        <span class="spanPropertyName">最大价格：</span>
        <input type='text' id='PriceMaxBig' class="spanPropertyValue" />
    </span>

    <span class="spanProperty">
        <span class="spanPropertyName">类别：</span>
        <select id="TypeBig" class="spanPropertyValue">@Html.Raw(ViewData["Type"])</select>
    </span>
    <span class="spanProperty">
        <span class="spanPropertyName">品牌：</span>
        <select id="BrandBig" class="spanPropertyValue">@Html.Raw(ViewData["Brand"])</select>
    </span>

    <span class="spanProperty">
        <span class="spanPropertyName">最小库存：</span>
        <input type='text' class="spanPropertyValue" id='StcokMinBig'>
    </span>
    <span class="spanProperty">
        <span class="spanPropertyName">最大库存：</span>
        <input type='text' id='StcokMaxBig' class="spanPropertyValue" />
    </span>
    <br />
        <span class="spanProperty">
    <span class="spanPropertyName"><input type="button" class="spanPropertySearch" value="查询" onclick="StcokSearch()" /></span>

    </span>

    

    <div id="StcokTop" style="font-size: 12px; overflow-x: scroll; border: solid 1px lightblue">
    </div>
    <div class="divJump">
            @Html.DropDownList("PageByStyle", ViewData["PageSum"] as List<SelectListItem>, new { onchange = "return ChangeByStyle()" })
            <a href="#" onclick="PageIndexChageByStyle(0)">首页</a>
            <a href="#" onclick="PageIndexChageByStyle(1)">上一页</a>
            当前第<span id="thisPgeStcok"></span>页
            <input type="text" id="PageSumStcok" style="width: 50px;" />
            <a href="#" onclick="PageIndexChageByStyle(2)">跳转</a>
            <a href="#" onclick="PageIndexChageByStyle(3)">下一页</a>
            <a href="#" onclick="PageIndexChageByStyle(4)">末页</a>
            <span id="PageCountStcok"></span>
            页<span id="RecordStcok" ></span>条记录
    </div>
</div>
<div style="border: 1px solid gray;">
<div>
    <span class="spanProperty">
        <span class="spanPropertyName">款号：</span>
        <input type='text' id='Style' class="spanPropertyValue">
    </span>
    <span class="spanProperty">
        <span class="spanPropertyName">货号：</span>
        <input type='text' id='Scode' class="spanPropertyValue">
    </span>
    <span class="spanProperty">
        <span class="spanPropertyName">最小价格：</span>
        <input type='text' id='PriceMin' class="spanPropertyValue">
    </span>
    <span class="spanProperty">
        <span class="spanPropertyName">最大价格：</span>
        <input type='text' id='PriceMax' class="spanPropertyValue" />
    </span>

    <span class="spanProperty">
        <span class="spanPropertyName">类别：</span>
        <select id="Type" class="spanPropertyValue">@Html.Raw(ViewData["Type"])</select>
    </span>
    <span class="spanProperty">
        <span class="spanPropertyName">品牌：</span>
        <select id="Brand" class="spanPropertyValue">@Html.Raw(ViewData["Brand"])</select>
    </span>
    <span class="spanProperty">
        <span class="spanPropertyName">季节：</span>
        <input type="text" class="spanPropertyValue" />
    </span>

    <span class="spanProperty">
        <span class="spanPropertyName">最小库存：</span>
        <input type='text' class="spanPropertyValue" id='StcokMin'>
    </span>
    <span class="spanProperty">
        <span class="spanPropertyName">最大库存：</span>
        <input type='text' id='StcokMax' class="spanPropertyValue" />
    </span>
    <br />
        <span class="spanProperty">
    <span class="spanPropertyName"><input type="button" class="spanPropertySearch" onclick="Search()" value="查询" /></span>

    </span>
    
</div>
<div id="tableStcok" style="width: 100%; height: auto; font-size: 12px; color: #808080; overflow-x: scroll; border: solid 1px lightblue">
</div>

    <div class="divJump">
            @Html.DropDownList("PageByScode", ViewData["PageSum"] as List<SelectListItem>, new { onchange = "return ChangeByScode()" })
            <a href="#" onclick="PageIndexChange(0)">首页</a>  
            <a href="#" onclick="PageIndexChange(1)">上一页</a>
            <input type="text" id="PageSum" />
            当前第<span id="thisPge"></span>页
            <a href="#" onclick="PageIndexChange(2)">跳转</a>
            <a href="#" onclick="PageIndexChange(3)">下一页</a>
            <a href="#" onclick="PageIndexChange(4)">末页</a>
            <span id="PageCount"></span>
            页
            <span id="Record"></span>
            条记录
    </div>
    <div id="divShowPic" style="position: absolute"></div>
</div>


<div class="PopBg"></div>
<div id="PopContent" class="myPopdiv">
    <div class="Loading">图片上传中<span style="color: red; font-size: 50px;">(请勿关闭窗口!)</span>......</div>
    <div class="divclose" onclick="Close()">×</div>
    <div style="text-indent: 10px; text-align: left;">编辑商品属性</div>
    <div id="EditContainer">
        <div id="EditContent" style="width: 760px">
        </div>
        <div id="TypeAttribute">
        </div>
        <div>

            <div id="divMainPicContent">
                <div>主图</div>
                <div id="divUploadMainPic"></div>
                <div id="divShowMianPic"></div>
            </div>
            <div id="divImageFile">
                <div id="div_img1">
                    <div id="divScodePic"></div>
                    <div id="divUploadImg"></div>
                </div>
                <div>
                    <div id="fileQueue1" style="text-align: center">
                    </div>
                </div>
            </div>
            <div style="width: 100%; text-align: center; margin-top: 20px;" id="CaoZuo">
                <input type="button" value=" 关 闭 " onclick="Close()" style="margin-left: 20px;" />
            </div>
        </div>
    </div>
@*    <div id="divProductInfo"></div>*@
    <div class="divMainMaxPic"></div>
</div>
